/* =========================================
   VARIABLES & CONFIGURACIÓN DE TEMA
   ========================================= */
$primary-blue: #2563eb;    // Azul corporativo principal
$primary-light: #eff6ff;   // Azul muy suave para fondos
$text-dark: #1e293b;       // Gris muy oscuro (Slate-800)
$text-muted: #94a3b8;      // Gris medio para etiquetas (Slate-400)
$border-light: #f1f5f9;    // Bordes muy sutiles
$bg-app: #ffffff;          // Fondo base
$shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
$shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -2px rgba(0, 0, 0, 0.05);

/* =========================================
   CONTENEDOR PRINCIPAL
   ========================================= */
.main-container {
  padding: 24px;
  background-color: $bg-app;
  min-height: 100vh;
  font-family: 'Inter', -apple-system, sans-serif;

  @media (max-width: 600px) {
    padding: 16px; // Menos espacio en móviles
  }
}

/* =========================================
   ENCABEZADO (HEADER)
   ========================================= */
.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 32px;
  flex-wrap: wrap;
  gap: 16px;

  h1 {
    margin: 0;
    font-size: 24px;
    font-weight: 800;
    color: $text-dark;
    letter-spacing: -0.5px;
  }

  .subtitle {
    margin: 4px 0 0 0;
    color: $text-muted;
    font-size: 14px;
  }

  .add-btn {
    background-color: $primary-blue !important;
    color: white !important;
    border-radius: 12px;
    padding: 10px 20px;
    font-weight: 600;
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
    
    mat-icon { margin-right: 6px; }
  }
}

/* =========================================
   BARRA DE ACCIONES (FILTROS)
   ========================================= */
.action-bar {
  display: flex;
  gap: 16px;
  margin-bottom: 24px;
  flex-wrap: wrap;

  .search-field {
    flex: 2;
    min-width: 280px;
  }

  .filter-select {
    flex: 1;
    min-width: 180px;
  }

  ::ng-deep .mat-mdc-text-field-wrapper {
    background-color: white !important;
    border-radius: 12px !important;
  }
}

/* =========================================
   ESTADOS (BADGES) - Reutilizables
   ========================================= */
.status-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;

  &.activo {
    background-color: #f0fdf4;
    color: #16a34a;
    border: 1px solid #bbf7d0;
  }

  &.inactivo {
    background-color: #fef2f2;
    color: #dc2626;
    border: 1px solid #fecaca;
  }

  &.mini {
    padding: 2px 8px;
    font-size: 9px;
  }
}

/* =========================================
   TABLA ESCRITORIO
   ========================================= */
.content-card {
  background: white;
  border-radius: 16px;
  border: 1px solid #e2e8f0;
  overflow: hidden;
  box-shadow: $shadow-md !important;

  table { width: 100%; border-spacing: 0; }

  th.mat-header-cell {
    background-color: #f8fafc;
    color: $text-muted;
    font-weight: 700;
    font-size: 11px;
    text-transform: uppercase;
    padding: 16px;
  }

  td.mat-cell {
    padding: 12px 16px;
    color: $text-dark;
    border-bottom: 1px solid $border-light;
  }

  .hover-row:hover { background-color: #f8fafc; cursor: pointer; }

  .client-info {
    display: flex;
    flex-direction: column;
    .main-text { font-weight: 700; font-size: 14px; }
    .sub-text { font-size: 11px; color: $text-muted; font-family: monospace; }
  }

  .ruta-badge {
    background: #f1f5f9;
    color: #475569;
    padding: 4px 8px;
    border-radius: 6px;
    font-weight: 700;
    font-size: 12px;
  }
}

/* BOTONES TABLA ESCRITORIO */
.action-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 4px;
  
  .edit-icon { color: $primary-blue; }
  .delete-icon { color: #dc2626; }
}

/* =========================================
   VISTA MÓVIL (TARJETAS PREMIUM)
   ========================================= */
.mobile-grid {
  display: flex;
  flex-direction: column;
  gap: 12px;

  /* Nueva variable de sombra profunda y suave */
$shadow-premium: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 
                 0 8px 10px -6px rgba(0, 0, 0, 0.1);

.modern-mobile-card {
  border-radius: 16px !important;
  /* Eliminamos el borde sólido o lo hacemos casi invisible para resaltar la sombra */
  border: 1px solid rgba(226, 232, 240, 0.5) !important;
  
  /* Aplicación de la sombra realzada */
  box-shadow: $shadow-premium !important;
  
  background: white;
  overflow: hidden;
  margin-bottom: 8px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;

  /* Efecto opcional: se eleva un poco más al interactuar */
  &:active {
    transform: scale(0.98);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
  }

    // Header Tarjeta
    .card-header-mobile {
        padding: 16px;
        display: flex;
        justify-content: space-between; // Separa el grupo del nombre del badge de estado
        align-items: flex-start;
        gap: 12px; // Espacio mínimo entre el nombre y el badge

      .header-main {
        display: flex;
        align-items: center;
        gap: 12px;
        flex: 1;          // Ocupa todo el espacio disponible...
        min-width: 0;     // ...pero permite que sus hijos se encojan (crucial para el truncado)

        .client-identity {
          display: flex;
          flex-direction: column;
          flex: 1;
          min-width: 0;   // Permite que este contenedor se limite

          .client-name {
            font-size: 15px;
            font-weight: 700;
            color: $text-dark;
            
            // --- TRUNCADO A UNA SOLA LÍNEA ---
            white-space: nowrap;      // Evita que salte a la siguiente línea
            overflow: hidden;         // Esconde lo que sobra
            text-overflow: ellipsis;  // Agrega los "..." al final
            display: block;
          }

          .ruta-text {
            font-size: 11px;
            color: $text-muted;
            margin-top: 2px;
            font-weight: 500;
          }
        }
      }

      .status-badge.mini {
        flex-shrink: 0;   // Evita que el badge se aplaste si el nombre es muy largo
        white-space: nowrap;
      }
  }

    // Cuerpo Tarjeta
    .card-body-mobile {
      padding: 12px 16px;
      display: flex;
      flex-direction: column;
      gap: 10px;

      .info-row {
        display: flex;
        align-items: center;
        gap: 12px;

        .icon-wrapper {
          width: 32px;
          height: 32px;
          background: #f8fafc;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          mat-icon { font-size: 18px; color: #94a3b8; }
        }

        .info-content {
          .label { font-size: 10px; color: #94a3b8; font-weight: 600; text-transform: uppercase; display: block; }
          .value { font-size: 13px; color: $text-dark; font-weight: 500; }
        }
      }
    }

    // Footer Tarjeta (Botones)
    .card-footer-mobile {
      background-color: #fcfcfc;
      border-top: 1px solid $border-light;
      padding: 10px 16px;
      display: flex;
      justify-content: flex-end;

      .mobile-action-grid {
        display: flex;
        gap: 8px;

        .btn-pill {
          height: 30px !important;
          border-radius: 15px !important;
          font-size: 10px !important;
          font-weight: 700 !important;
          padding: 0 12px !important;
          background: white !important;

          mat-icon { font-size: 14px !important; margin-right: 4px !important; }

          &.btn-edit { color: $primary-blue !important; border-color: #bfdbfe !important; }
          &.btn-delete { color: #dc2626 !important; border-color: #fecaca !important; }
        }
      }

      .full-w-btn {
        width: 100%;
        border-radius: 10px;
        font-weight: 700;
      }
    }
  }



}

/* =========================================
   PAGINADOR
   ========================================= */
mat-paginator {
  margin-top: 16px;
  background: transparent !important;
  color: $text-muted;
}

.text-right { text-align: right; }